(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},75254,e=>{"use strict";var t=e.i(71645);let r=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,t.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:l="",children:o,iconNode:d,...c},u)=>(0,t.createElement)("svg",{ref:u,...i,width:a,height:a,stroke:e,strokeWidth:n?24*Number(s)/Number(a):s,className:r("lucide",l),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(c)&&{"aria-hidden":"true"},...c},[...d.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(o)?o:[o]])),n=(e,i)=>{let n=(0,t.forwardRef)(({className:n,...l},o)=>(0,t.createElement)(s,{ref:o,iconNode:i,className:r(`lucide-${a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...l}));return n.displayName=a(e),n};e.s(["default",()=>n],75254)},71829,e=>{"use strict";e.s(["CATEGORY_CONFIG",0,{hygiene:{label:"Hygiene",icon:"droplets",color:"#4A7C8F"},appointment:{label:"Appointment",icon:"calendar-clock",color:"#8B5CF6"},chore:{label:"Chore",icon:"home",color:"#D4A853"},education:{label:"Education",icon:"book-open",color:"#6B9E76"},social:{label:"Social",icon:"users",color:"#E0896B"},health:{label:"Health",icon:"heart-pulse",color:"#C75C5C"}},"COLORS",0,{primary:"#4A7C8F",primaryLight:"#E8F0F3",primaryDark:"#365B6A",secondary:"#6B9E76",secondaryLight:"#E8F3EA",accent:"#D4A853",accentLight:"#FDF5E3",background:"#F7F8FA",surface:"#FFFFFF",textPrimary:"#2C3E50",textSecondary:"#6B7C8D",textMuted:"#95A5B6",border:"#E2E8F0",success:"#6B9E76",warning:"#D4A853",danger:"#C75C5C",dangerLight:"#FDE8E8",trafficGreen:"#70B080",trafficAmber:"#E0B060",trafficRed:"#E07070"},"MERIT_CONFIG",0,{voucherThreshold:100,voucherValue:10,maxDailyPoints:50,streakBonus:5},"MILESTONES",0,[{id:"m1",label:"Getting Started",pointsRequired:10,reward:"Welcome badge",icon:"star",achieved:!1},{id:"m2",label:"Building Routine",pointsRequired:25,reward:"Extra activity time",icon:"calendar",achieved:!1},{id:"m3",label:"Making Progress",pointsRequired:50,reward:"Choice of meal",icon:"trending-up",achieved:!1},{id:"m4",label:"Staying Strong",pointsRequired:75,reward:"Phone credit top-up",icon:"shield",achieved:!1},{id:"m5",label:"E-Voucher Earned!",pointsRequired:100,reward:"£10 E-Voucher",icon:"gift",achieved:!1}],"ONBOARDING_STEPS",0,[{id:"r-firstName",section:"resident",field:"firstName",label:"What is your first name?",helpText:"This is the name staff will use to greet you.",type:"text",placeholder:"e.g. James",required:!0},{id:"r-lastName",section:"resident",field:"lastName",label:"What is your last name?",type:"text",placeholder:"e.g. Smith",required:!0},{id:"r-dateOfBirth",section:"resident",field:"dateOfBirth",label:"What is your date of birth?",helpText:"We need this for your records.",type:"date",required:!0},{id:"r-phone",section:"resident",field:"phone",label:"What is your phone number?",helpText:"We'll use this to send you reminders.",type:"tel",placeholder:"e.g. 07700 900000",required:!1},{id:"r-email",section:"resident",field:"email",label:"What is your email address?",helpText:"Optional - for receiving updates.",type:"email",placeholder:"e.g. james@email.com",required:!1},{id:"r-roomNumber",section:"resident",field:"roomNumber",label:"What room have you been assigned?",helpText:"Check with staff if you're not sure.",type:"text",placeholder:"e.g. Room 12",required:!0},{id:"r-dietaryNeeds",section:"resident",field:"dietaryNeeds",label:"Do you have any dietary needs?",helpText:"Allergies, vegetarian, halal, etc.",type:"textarea",placeholder:"Leave blank if none",required:!1},{id:"r-accessibilityNeeds",section:"resident",field:"accessibilityNeeds",label:"Do you have any accessibility needs?",helpText:"Anything that helps us support you better - mobility, vision, hearing, etc.",type:"textarea",placeholder:"Leave blank if none",required:!1},{id:"nok-name",section:"nextOfKin",field:"name",label:"Who is your next of kin?",helpText:"The person we should contact about your welfare.",type:"text",placeholder:"Full name",required:!0},{id:"nok-relationship",section:"nextOfKin",field:"relationship",label:"What is their relationship to you?",type:"select",required:!0,options:[{value:"parent",label:"Parent"},{value:"sibling",label:"Brother / Sister"},{value:"partner",label:"Partner"},{value:"child",label:"Son / Daughter"},{value:"friend",label:"Friend"},{value:"social-worker",label:"Social Worker"},{value:"other",label:"Other"}]},{id:"nok-phone",section:"nextOfKin",field:"phone",label:"What is their phone number?",type:"tel",placeholder:"e.g. 07700 900000",required:!0},{id:"nok-email",section:"nextOfKin",field:"email",label:"What is their email address?",helpText:"Optional",type:"email",placeholder:"e.g. relative@email.com",required:!1},{id:"ec-name",section:"emergencyContact",field:"name",label:"Who should we contact in an emergency?",helpText:"This can be the same as your next of kin.",type:"text",placeholder:"Full name",required:!0},{id:"ec-relationship",section:"emergencyContact",field:"relationship",label:"What is their relationship to you?",type:"select",required:!0,options:[{value:"parent",label:"Parent"},{value:"sibling",label:"Brother / Sister"},{value:"partner",label:"Partner"},{value:"child",label:"Son / Daughter"},{value:"friend",label:"Friend"},{value:"social-worker",label:"Social Worker"},{value:"keyworker",label:"Key Worker"},{value:"other",label:"Other"}]},{id:"ec-phone",section:"emergencyContact",field:"phone",label:"What is their phone number?",type:"tel",placeholder:"e.g. 07700 900000",required:!0},{id:"ec-alternatePhone",section:"emergencyContact",field:"alternatePhone",label:"Is there a backup number we can try?",helpText:"Optional - a second number just in case.",type:"tel",placeholder:"e.g. 07700 900001",required:!1}]])},76525,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let a={primary:"bg-primary text-white hover:bg-primary-dark active:bg-primary-dark shadow-sm",secondary:"bg-secondary text-white hover:opacity-90 active:opacity-80 shadow-sm",outline:"border-2 border-primary text-primary hover:bg-primary-light active:bg-primary-light",ghost:"text-text-secondary hover:bg-primary-light active:bg-primary-light",danger:"bg-danger text-white hover:opacity-90 active:opacity-80 shadow-sm",success:"bg-success text-white hover:opacity-90 active:opacity-80 shadow-sm"},i={sm:"px-4 py-2 text-sm rounded-lg min-h-[40px]",md:"px-6 py-3 text-base rounded-xl min-h-[48px]",lg:"px-8 py-4 text-lg rounded-xl min-h-[56px]",xl:"px-10 py-5 text-xl rounded-2xl min-h-[64px]"},s=(0,r.forwardRef)(({variant:e="primary",size:r="md",fullWidth:s=!1,className:n="",children:l,disabled:o,...d},c)=>(0,t.jsx)("button",{ref:c,className:`
          inline-flex items-center justify-center
          font-semibold
          transition-all duration-200 ease-in-out
          focus-visible:outline-3 focus-visible:outline-primary focus-visible:outline-offset-2
          disabled:opacity-50 disabled:cursor-not-allowed disabled:pointer-events-none
          touch-target cursor-pointer
          ${a[e]}
          ${i[r]}
          ${s?"w-full":""}
          ${n}
        `,disabled:o,...d,children:l}));s.displayName="Button",e.s(["Button",0,s])},98183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={assign:function(){return o},searchParamsToUrlQuery:function(){return s},urlQueryToSearchParams:function(){return l}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});function s(e){let t={};for(let[r,a]of e.entries()){let e=t[r];void 0===e?t[r]=a:Array.isArray(e)?e.push(a):t[r]=[e,a]}return t}function n(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function l(e){let t=new URLSearchParams;for(let[r,a]of Object.entries(e))if(Array.isArray(a))for(let e of a)t.append(r,n(e));else t.set(r,n(a));return t}function o(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,a]of r.entries())e.append(t,a)}return e}},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={formatUrl:function(){return l},formatWithValidation:function(){return d},urlObjectKeys:function(){return o}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let s=e.r(90809)._(e.r(98183)),n=/https?|ftp|gopher|file/;function l(e){let{auth:t,hostname:r}=e,a=e.protocol||"",i=e.pathname||"",l=e.hash||"",o=e.query||"",d=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?d=t+e.host:r&&(d=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(d+=":"+e.port)),o&&"object"==typeof o&&(o=String(s.urlQueryToSearchParams(o)));let c=e.search||o&&`?${o}`||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||n.test(a))&&!1!==d?(d="//"+(d||""),i&&"/"!==i[0]&&(i="/"+i)):d||(d=""),l&&"#"!==l[0]&&(l="#"+l),c&&"?"!==c[0]&&(c="?"+c),i=i.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${a}${d}${i}${c}${l}`}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function d(e){return l(e)}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return i}});let a=e.r(71645);function i(e,t){let r=(0,a.useRef)(null),i=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=i.current;t&&(i.current=null,t())}else e&&(r.current=s(e,a)),t&&(i.current=s(t,a))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={DecodeError:function(){return y},MiddlewareNotFoundError:function(){return j},MissingStaticPage:function(){return v},NormalizeError:function(){return b},PageNotFoundError:function(){return g},SP:function(){return x},ST:function(){return f},WEB_VITALS:function(){return s},execOnce:function(){return n},getDisplayName:function(){return u},getLocationOrigin:function(){return d},getURL:function(){return c},isAbsoluteUrl:function(){return o},isResSent:function(){return m},loadGetInitialProps:function(){return h},normalizeRepeatedSlashes:function(){return p},stringifyError:function(){return N}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let s=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let t,r=!1;return(...a)=>(r||(r=!0,t=e(...a)),t)}let l=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>l.test(e);function d(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function c(){let{href:e}=window.location,t=d();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function m(e){return e.finished||e.headersSent}function p(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function h(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await h(t.Component,t.ctx)}:{};let a=await e.getInitialProps(t);if(r&&m(r))return a;if(!a)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${a}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}let x="u">typeof performance,f=x&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class y extends Error{}class b extends Error{}class g extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class v extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class j extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function N(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return s}});let a=e.r(18967),i=e.r(52817);function s(e){if(!(0,a.isAbsoluteUrl)(e))return!0;try{let t=(0,a.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,i.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return y},useLinkStatus:function(){return g}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let s=e.r(90809),n=e.r(43476),l=s._(e.r(71645)),o=e.r(95057),d=e.r(8372),c=e.r(18581),u=e.r(18967),m=e.r(5550);e.r(33525);let p=e.r(91949),h=e.r(73668),x=e.r(9396);function f(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function y(t){var r;let a,i,s,[o,y]=(0,l.useOptimistic)(p.IDLE_LINK_STATUS),g=(0,l.useRef)(null),{href:v,as:j,children:N,prefetch:k=null,passHref:C,replace:w,shallow:E,scroll:M,onClick:S,onMouseEnter:T,onTouchStart:P,legacyBehavior:O=!1,onNavigate:R,ref:A,unstable_dynamicOnHover:$,...D}=t;a=N,O&&("string"==typeof a||"number"==typeof a)&&(a=(0,n.jsx)("a",{children:a}));let L=l.default.useContext(d.AppRouterContext),B=!1!==k,I=!1!==k?null===(r=k)||"auto"===r?x.FetchStrategy.PPR:x.FetchStrategy.Full:x.FetchStrategy.PPR,{href:F,as:_}=l.default.useMemo(()=>{let e=f(v);return{href:e,as:j?f(j):e}},[v,j]);if(O){if(a?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});i=l.default.Children.only(a)}let z=O?i&&"object"==typeof i&&i.ref:A,W=l.default.useCallback(e=>(null!==L&&(g.current=(0,p.mountLinkInstance)(e,F,L,I,B,y)),()=>{g.current&&((0,p.unmountLinkForCurrentNavigation)(g.current),g.current=null),(0,p.unmountPrefetchableInstance)(e)}),[B,F,L,I,y]),q={ref:(0,c.useMergedRef)(W,z),onClick(t){O||"function"!=typeof S||S(t),O&&i.props&&"function"==typeof i.props.onClick&&i.props.onClick(t),!L||t.defaultPrevented||function(t,r,a,i,s,n,o){if("u">typeof window){let d,{nodeName:c}=t.currentTarget;if("A"===c.toUpperCase()&&((d=t.currentTarget.getAttribute("target"))&&"_self"!==d||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,h.isLocalURL)(r)){s&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(99781);l.default.startTransition(()=>{u(a||r,s?"replace":"push",n??!0,i.current)})}}(t,F,_,g,w,M,R)},onMouseEnter(e){O||"function"!=typeof T||T(e),O&&i.props&&"function"==typeof i.props.onMouseEnter&&i.props.onMouseEnter(e),L&&B&&(0,p.onNavigationIntent)(e.currentTarget,!0===$)},onTouchStart:function(e){O||"function"!=typeof P||P(e),O&&i.props&&"function"==typeof i.props.onTouchStart&&i.props.onTouchStart(e),L&&B&&(0,p.onNavigationIntent)(e.currentTarget,!0===$)}};return(0,u.isAbsoluteUrl)(_)?q.href=_:O&&!C&&("a"!==i.type||"href"in i.props)||(q.href=(0,m.addBasePath)(_)),s=O?l.default.cloneElement(i,q):(0,n.jsx)("a",{...D,...q,children:a}),(0,n.jsx)(b.Provider,{value:o,children:s})}e.r(84508);let b=(0,l.createContext)(p.IDLE_LINK_STATUS),g=()=>(0,l.useContext)(b);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18566,(e,t,r)=>{t.exports=e.r(76562)},40148,54385,25652,30699,5050,e=>{"use strict";var t=e.i(43476),r=e.i(22016),a=e.i(18566),i=e.i(75254);let s=(0,i.default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),n=(0,i.default)("clipboard-check",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);e.s(["ClipboardCheck",()=>n],54385);let l=(0,i.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>l],25652);let o=(0,i.default)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);e.s(["Gift",()=>o],30699);let d=[{href:"/",label:"Home",icon:s},{href:"/proof",label:"Tasks",icon:n},{href:"/progress",label:"Progress",icon:l},{href:"/voucher",label:"Rewards",icon:o},{href:"/admin",label:"Staff",icon:(0,i.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}];function c(){let e=(0,a.usePathname)();return(0,t.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-surface border-t border-border shadow-lg",role:"navigation","aria-label":"Main navigation",children:(0,t.jsx)("ul",{className:"flex justify-around items-center max-w-lg mx-auto",children:d.map(a=>{let i=e===a.href||"/"!==a.href&&e.startsWith(a.href),s=a.icon;return(0,t.jsx)("li",{children:(0,t.jsxs)(r.default,{href:a.href,className:`
                  flex flex-col items-center justify-center
                  py-3 px-4
                  min-h-[64px] min-w-[64px]
                  transition-colors duration-200
                  touch-target
                  ${i?"text-primary":"text-text-muted hover:text-text-secondary"}
                `,"aria-current":i?"page":void 0,children:[(0,t.jsx)(s,{size:24,strokeWidth:i?2.5:2,"aria-hidden":"true"}),(0,t.jsx)("span",{className:`text-xs mt-1 font-medium ${i?"font-bold":""}`,children:a.label})]})},a.href)})})})}function u({title:e,showBack:r=!1,onBack:a}){return(0,t.jsx)("header",{className:"sticky top-0 z-40 bg-surface/95 backdrop-blur-sm border-b border-border",children:(0,t.jsxs)("div",{className:"max-w-lg mx-auto px-4 py-4 flex items-center gap-3",children:[r&&(0,t.jsx)("button",{onClick:a,className:"p-2 -ml-2 rounded-xl hover:bg-primary-light transition-colors touch-target","aria-label":"Go back",children:(0,t.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M15 18l-6-6 6-6"})})}),(0,t.jsx)("h1",{className:"text-xl font-bold text-text-primary",children:e})]})})}e.s(["BottomNavigation",()=>c,"TopBar",()=>u],40148);let m={sm:"p-4",md:"p-6",lg:"p-8"};function p({children:e,className:r="",padding:a="md",hover:i=!1,onClick:s,role:n,ariaLabel:l}){let o=!!s;return(0,t.jsx)(o?"button":"div",{className:`
        bg-surface rounded-2xl border border-border
        shadow-sm
        ${m[a]}
        ${i?"hover:shadow-md hover:border-primary/30 transition-all duration-200":""}
        ${o?"cursor-pointer text-left w-full touch-target":""}
        ${r}
      `,onClick:s,role:n,"aria-label":l,children:e})}e.s(["Card",()=>p],5050)},70273,e=>{"use strict";let t=(0,e.i(75254).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>t],70273)},30592,e=>{"use strict";var t=e.i(71829);let r=[{id:"t1",title:"Make your bed",description:"Make your bed neatly before 9am",category:"chore",status:"pending",meritPoints:5,dueDate:"2026-02-12",dueTime:"09:00",requiresProof:!0},{id:"t2",title:"Morning hygiene routine",description:"Brush teeth, shower, and get dressed",category:"hygiene",status:"pending",meritPoints:5,dueDate:"2026-02-12",dueTime:"08:30",requiresProof:!1},{id:"t3",title:"Attend literacy class",description:"Room 3, Ground Floor - Mrs. Thompson",category:"education",status:"pending",meritPoints:10,dueDate:"2026-02-12",dueTime:"10:00",requiresProof:!0},{id:"t4",title:"GP Appointment",description:"Dr. Patel at the Health Centre, bring your ID",category:"appointment",status:"pending",meritPoints:10,dueDate:"2026-02-12",dueTime:"14:00",requiresProof:!0},{id:"t5",title:"Cook dinner (group rota)",description:"It's your turn on the cooking rota tonight",category:"chore",status:"pending",meritPoints:8,dueDate:"2026-02-12",dueTime:"17:30",requiresProof:!0},{id:"t6",title:"Social activity - Board games",description:"Join others in the common room for game night",category:"social",status:"completed",meritPoints:5,dueDate:"2026-02-11",dueTime:"19:00",requiresProof:!1,completedAt:"2026-02-11T19:45:00"}],a={currentPoints:68,totalEarned:218,level:3,milestones:t.MILESTONES.map(e=>({...e,achieved:e.pointsRequired<=68})),weeklyHistory:[{day:"Mon",points:15},{day:"Tue",points:20},{day:"Wed",points:10},{day:"Thu",points:8},{day:"Fri",points:25},{day:"Sat",points:5},{day:"Sun",points:12}]},i=[{id:"res1",name:"James Wilson",roomNumber:"12",moveInDate:"2025-11-15",keyWorker:"Sarah Mitchell",meritPoints:68,taskCompletion:82,trafficLight:"green",recentTasks:r.slice(0,3)},{id:"res2",name:"David Brown",roomNumber:"8",moveInDate:"2025-12-01",keyWorker:"Sarah Mitchell",meritPoints:45,taskCompletion:65,trafficLight:"amber",recentTasks:r.slice(1,4)},{id:"res3",name:"Michael Taylor",roomNumber:"3",moveInDate:"2026-01-10",keyWorker:"Tom Henderson",meritPoints:22,taskCompletion:40,trafficLight:"red",recentTasks:r.slice(2,5)},{id:"res4",name:"Ryan Clarke",roomNumber:"15",moveInDate:"2025-10-20",keyWorker:"Tom Henderson",meritPoints:92,taskCompletion:95,trafficLight:"green",recentTasks:r.slice(0,2)},{id:"res5",name:"Chris Ahmed",roomNumber:"7",moveInDate:"2026-01-25",keyWorker:"Lisa Wong",meritPoints:35,taskCompletion:55,trafficLight:"amber",recentTasks:r.slice(3,6)}];e.s(["MOCK_APPOINTMENTS",0,[{id:"a1",residentId:"res1",residentName:"James Wilson",title:"GP Check-up",description:"Routine health check with Dr. Patel",date:"2026-02-14",time:"10:00",recurrence:"once",category:"health",location:"Health Centre",createdBy:"Sarah Mitchell"},{id:"a2",residentId:"res2",residentName:"David Brown",title:"Probation Meeting",description:"Monthly check-in with probation officer",date:"2026-02-15",time:"14:00",recurrence:"monthly",category:"appointment",location:"Office 3",createdBy:"Sarah Mitchell"},{id:"a3",residentId:"res3",residentName:"Michael Taylor",title:"Literacy Class",description:"Weekly literacy session",date:"2026-02-12",time:"10:00",recurrence:"weekly",category:"education",location:"Room 3, Ground Floor",createdBy:"Tom Henderson"}],"MOCK_MERIT_PROGRESS",0,a,"MOCK_REMINDERS",0,[{id:"r1",title:"Take morning medication",description:"Remember to take your medication with breakfast",time:"08:00",date:"2026-02-12",priority:"high",recurrence:"daily",category:"health",isActive:!0,isDismissed:!1},{id:"r2",title:"Key worker meeting",description:"Weekly check-in with Sarah in office 2",time:"11:00",date:"2026-02-12",priority:"medium",recurrence:"weekly",category:"appointment",isActive:!0,isDismissed:!1},{id:"r3",title:"Tidy your room",description:"Room inspection at 5pm - tidy up beforehand",time:"16:00",date:"2026-02-12",priority:"medium",recurrence:"weekdays",category:"chore",isActive:!0,isDismissed:!1},{id:"r4",title:"Evening walk",description:"30-minute walk around the grounds",time:"18:00",date:"2026-02-12",priority:"low",recurrence:"daily",category:"health",isActive:!0,isDismissed:!1}],"MOCK_RESIDENTS",0,i,"MOCK_TASKS",0,r,"MOCK_VOUCHERS",0,[{id:"v1",code:"OWNMERIT-2026-A1B2C3",value:10,currency:"GBP",expiresAt:"2026-03-12",status:"available",retailer:"Tesco"},{id:"v2",code:"OWNMERIT-2026-D4E5F6",value:10,currency:"GBP",expiresAt:"2026-02-28",redeemedAt:"2026-02-01",status:"redeemed",retailer:"Primark"}]])},37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},83342,63059,e=>{"use strict";var t=e.i(43476);let r={primary:"bg-primary",secondary:"bg-secondary",accent:"bg-accent",success:"bg-success"},a={primary:"bg-primary-light",secondary:"bg-secondary-light",accent:"bg-accent-light",success:"bg-secondary-light"},i={sm:"h-2",md:"h-3",lg:"h-5"};function s({value:e,max:s=100,label:n,showPercentage:l=!1,size:o="md",color:d="primary",className:c=""}){let u=Math.min(Math.max(e/s*100,0),100);return(0,t.jsxs)("div",{className:`w-full ${c}`,children:[(n||l)&&(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[n&&(0,t.jsx)("span",{className:"text-sm font-medium text-text-secondary",children:n}),l&&(0,t.jsxs)("span",{className:"text-sm font-bold text-text-primary",children:[Math.round(u),"%"]})]}),(0,t.jsx)("div",{className:`w-full rounded-full overflow-hidden ${a[d]} ${i[o]}`,role:"progressbar","aria-valuenow":Math.round(u),"aria-valuemin":0,"aria-valuemax":100,"aria-label":n||"Progress",children:(0,t.jsx)("div",{className:`${i[o]} rounded-full transition-all duration-700 ease-out ${r[d]}`,style:{width:`${u}%`}})})]})}e.s(["ProgressBar",()=>s],83342);let n=(0,e.i(75254).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>n],63059)},84614,e=>{"use strict";let t=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},1206,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let a=(0,r.forwardRef)(({label:e,helpText:r,error:a,id:i,className:s="",...n},l)=>{let o=i||`input-${e.replace(/\s+/g,"-").toLowerCase()}`,d=r?`${o}-help`:void 0,c=a?`${o}-error`:void 0;return(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("label",{htmlFor:o,className:"block text-lg font-semibold text-text-primary mb-2",children:[e,n.required&&(0,t.jsx)("span",{className:"text-danger ml-1","aria-hidden":"true",children:"*"})]}),r&&(0,t.jsx)("p",{id:d,className:"text-base text-text-secondary mb-3",children:r}),(0,t.jsx)("input",{ref:l,id:o,"aria-describedby":[d,c].filter(Boolean).join(" ")||void 0,"aria-invalid":a?"true":void 0,className:`
            w-full px-5 py-4
            text-lg text-text-primary
            bg-surface
            border-2 rounded-xl
            transition-all duration-200
            placeholder:text-text-muted
            focus:border-primary focus:ring-2 focus:ring-primary-light focus:outline-none
            ${a?"border-danger bg-danger-light":"border-border hover:border-text-muted"}
            ${s}
          `,...n}),a&&(0,t.jsxs)("p",{id:c,role:"alert",className:"mt-2 text-base text-danger font-medium flex items-center gap-2",children:[(0,t.jsx)("span",{"aria-hidden":"true",children:"⚠"})," ",a]})]})});a.displayName="Input";let i=(0,r.forwardRef)(({label:e,helpText:r,error:a,id:i,className:s="",...n},l)=>{let o=i||`textarea-${e.replace(/\s+/g,"-").toLowerCase()}`,d=r?`${o}-help`:void 0,c=a?`${o}-error`:void 0;return(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("label",{htmlFor:o,className:"block text-lg font-semibold text-text-primary mb-2",children:[e,n.required&&(0,t.jsx)("span",{className:"text-danger ml-1","aria-hidden":"true",children:"*"})]}),r&&(0,t.jsx)("p",{id:d,className:"text-base text-text-secondary mb-3",children:r}),(0,t.jsx)("textarea",{ref:l,id:o,"aria-describedby":[d,c].filter(Boolean).join(" ")||void 0,"aria-invalid":a?"true":void 0,rows:4,className:`
            w-full px-5 py-4
            text-lg text-text-primary
            bg-surface
            border-2 rounded-xl
            transition-all duration-200
            placeholder:text-text-muted
            resize-y
            focus:border-primary focus:ring-2 focus:ring-primary-light focus:outline-none
            ${a?"border-danger bg-danger-light":"border-border hover:border-text-muted"}
            ${s}
          `,...n}),a&&(0,t.jsxs)("p",{id:c,role:"alert",className:"mt-2 text-base text-danger font-medium flex items-center gap-2",children:[(0,t.jsx)("span",{"aria-hidden":"true",children:"⚠"})," ",a]})]})});i.displayName="TextArea";let s=(0,r.forwardRef)(({label:e,helpText:r,error:a,id:i,options:s,className:n="",...l},o)=>{let d=i||`select-${e.replace(/\s+/g,"-").toLowerCase()}`,c=r?`${d}-help`:void 0,u=a?`${d}-error`:void 0;return(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("label",{htmlFor:d,className:"block text-lg font-semibold text-text-primary mb-2",children:[e,l.required&&(0,t.jsx)("span",{className:"text-danger ml-1","aria-hidden":"true",children:"*"})]}),r&&(0,t.jsx)("p",{id:c,className:"text-base text-text-secondary mb-3",children:r}),(0,t.jsxs)("select",{ref:o,id:d,"aria-describedby":[c,u].filter(Boolean).join(" ")||void 0,"aria-invalid":a?"true":void 0,className:`
            w-full px-5 py-4
            text-lg text-text-primary
            bg-surface
            border-2 rounded-xl
            transition-all duration-200
            appearance-none
            cursor-pointer
            focus:border-primary focus:ring-2 focus:ring-primary-light focus:outline-none
            ${a?"border-danger bg-danger-light":"border-border hover:border-text-muted"}
            ${n}
          `,...l,children:[(0,t.jsx)("option",{value:"",children:"Choose an option..."}),s.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]}),a&&(0,t.jsxs)("p",{id:u,role:"alert",className:"mt-2 text-base text-danger font-medium flex items-center gap-2",children:[(0,t.jsx)("span",{"aria-hidden":"true",children:"⚠"})," ",a]})]})});s.displayName="Select",e.s(["Input",0,a,"Select",0,s,"TextArea",0,i])},61911,e=>{"use strict";let t=(0,e.i(75254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>t],61911)},23261,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(40148),i=e.i(5050),s=e.i(83342),n=e.i(75254);let l=(0,n.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var o=e.i(84614),d=e.i(63059),c=e.i(70273);let u={green:{label:"On Track",color:"#70B080",bgColor:"#E8F3EA",description:"Completing tasks regularly"},amber:{label:"Needs Support",color:"#E0B060",bgColor:"#FDF5E3",description:"Missing some tasks"},red:{label:"At Risk",color:"#E07070",bgColor:"#FDE8E8",description:"Significant task gaps"}};function m({status:e,size:r="md"}){let a=u[e];return(0,t.jsxs)("div",{className:"flex items-center gap-2",title:a.description,children:[(0,t.jsx)("div",{className:`${"sm"===r?"w-3 h-3":"w-4 h-4"} rounded-full shadow-sm`,style:{backgroundColor:a.color},"aria-label":`Status: ${a.label}`}),"md"===r&&(0,t.jsx)("span",{className:"text-xs font-bold",style:{color:a.color},children:a.label})]})}function p({resident:e,onClick:r}){let a=u[e.trafficLight];return(0,t.jsx)(i.Card,{hover:!0,onClick:r,padding:"md",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center shrink-0 text-white font-bold text-lg",style:{backgroundColor:a.color},children:e.name.split(" ").map(e=>e[0]).join("")}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-bold text-text-primary truncate",children:e.name}),(0,t.jsx)(m,{status:e.trafficLight})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-sm text-text-secondary",children:[(0,t.jsxs)("span",{children:["Room ",e.roomNumber]}),(0,t.jsx)("span",{className:"text-text-muted",children:"|"}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(c.Star,{size:12,className:"text-accent"}),e.meritPoints," pts"]})]}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)(s.ProgressBar,{value:e.taskCompletion,size:"sm",color:"green"===e.trafficLight?"success":"amber"===e.trafficLight?"accent":"primary",label:`${e.taskCompletion}% tasks completed`})})]}),(0,t.jsx)(d.ChevronRight,{size:20,className:"text-text-muted shrink-0"})]})})}function h({residents:e,onSelectResident:a}){let[i,s]=(0,r.useState)(""),[n,d]=(0,r.useState)("all"),[c,u]=(0,r.useState)("name"),m=(0,r.useMemo)(()=>{let t=[...e];if(i){let e=i.toLowerCase();t=t.filter(t=>t.name.toLowerCase().includes(e)||t.roomNumber.includes(e)||t.keyWorker.toLowerCase().includes(e))}switch("all"!==n&&(t=t.filter(e=>e.trafficLight===n)),c){case"name":t.sort((e,t)=>e.name.localeCompare(t.name));break;case"points":t.sort((e,t)=>t.meritPoints-e.meritPoints);break;case"completion":t.sort((e,t)=>e.taskCompletion-t.taskCompletion)}return t},[e,i,n,c]),h=(0,r.useMemo)(()=>{let t=e.filter(e=>"green"===e.trafficLight).length;return{green:t,amber:e.filter(e=>"amber"===e.trafficLight).length,red:e.filter(e=>"red"===e.trafficLight).length,total:e.length}},[e]);return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,t.jsxs)("button",{onClick:()=>d("green"===n?"all":"green"),className:`p-3 rounded-xl text-center transition-all cursor-pointer ${"green"===n?"ring-2 ring-[#70B080] bg-[#E8F3EA]":"bg-surface border border-border"}`,children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full mx-auto mb-1",style:{backgroundColor:"#70B080"}}),(0,t.jsx)("p",{className:"text-xl font-bold text-text-primary",children:h.green}),(0,t.jsx)("p",{className:"text-[10px] text-text-muted",children:"On Track"})]}),(0,t.jsxs)("button",{onClick:()=>d("amber"===n?"all":"amber"),className:`p-3 rounded-xl text-center transition-all cursor-pointer ${"amber"===n?"ring-2 ring-[#E0B060] bg-[#FDF5E3]":"bg-surface border border-border"}`,children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full mx-auto mb-1",style:{backgroundColor:"#E0B060"}}),(0,t.jsx)("p",{className:"text-xl font-bold text-text-primary",children:h.amber}),(0,t.jsx)("p",{className:"text-[10px] text-text-muted",children:"Needs Support"})]}),(0,t.jsxs)("button",{onClick:()=>d("red"===n?"all":"red"),className:`p-3 rounded-xl text-center transition-all cursor-pointer ${"red"===n?"ring-2 ring-[#E07070] bg-[#FDE8E8]":"bg-surface border border-border"}`,children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full mx-auto mb-1",style:{backgroundColor:"#E07070"}}),(0,t.jsx)("p",{className:"text-xl font-bold text-text-primary",children:h.red}),(0,t.jsx)("p",{className:"text-[10px] text-text-muted",children:"At Risk"})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-text-muted"}),(0,t.jsx)("input",{type:"search",placeholder:"Search residents, room, or key worker...",value:i,onChange:e=>s(e.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-surface border-2 border-border rounded-xl text-base text-text-primary placeholder:text-text-muted focus:border-primary focus:ring-2 focus:ring-primary-light focus:outline-none transition-all","aria-label":"Search residents"})]}),(0,t.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-1",children:[[{key:"name",label:"Name"},{key:"completion",label:"Needs Help First"},{key:"points",label:"Most Points"}].map(e=>(0,t.jsx)("button",{onClick:()=>u(e.key),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors cursor-pointer ${c===e.key?"bg-primary text-white":"bg-surface border border-border text-text-secondary hover:bg-primary-light"}`,children:e.label},e.key)),"all"!==n&&(0,t.jsx)("button",{onClick:()=>d("all"),className:"px-4 py-2 rounded-full text-sm font-medium text-danger bg-danger-light hover:bg-danger/10 whitespace-nowrap transition-colors cursor-pointer",children:"Clear filter"})]}),(0,t.jsx)("div",{className:"space-y-3",role:"list","aria-label":"Residents",children:0===m.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(o.User,{size:48,className:"text-text-muted mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-text-secondary font-medium",children:"No residents found"}),(0,t.jsx)("p",{className:"text-sm text-text-muted mt-1",children:"Try a different search or filter"})]}):m.map(e=>(0,t.jsx)("div",{role:"listitem",children:(0,t.jsx)(p,{resident:e,onClick:()=>a?.(e)})},e.id))})]})}var x=e.i(76525),f=e.i(1206),y=e.i(71829);let b=(0,n.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),g=(0,n.default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),v=(0,n.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),j=(0,n.default)("calendar-plus",[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]]);var N=e.i(3116);let k=(0,n.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),C=(0,n.default)("repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);var w=e.i(37727);let E=(0,n.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),M=(0,n.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),S=(0,n.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),T=[{value:"once",label:"One-time"},{value:"daily",label:"Daily"},{value:"weekdays",label:"Weekdays (Mon-Fri)"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],P=Object.entries(y.CATEGORY_CONFIG).map(([e,t])=>({value:e,label:t.label})),O={residentId:"",residentName:"",title:"",description:"",date:"",time:"",recurrence:"once",category:"appointment",location:"",notes:""};function R({appointment:e,onEdit:a,onDelete:s}){let[n,l]=(0,r.useState)(!1),d=y.CATEGORY_CONFIG[e.category];return(0,t.jsx)(i.Card,{padding:"sm",className:"overflow-hidden",children:(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${d.color}20`},children:(0,t.jsx)(j,{size:18,style:{color:d.color}})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"font-bold text-text-primary text-sm truncate",children:e.title}),(0,t.jsx)("button",{onClick:()=>l(!n),className:"p-1 hover:bg-primary-light rounded-lg transition-colors","aria-label":n?"Collapse":"Expand",children:n?(0,t.jsx)(S,{size:16,className:"text-text-muted"}):(0,t.jsx)(M,{size:16,className:"text-text-muted"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-xs text-text-secondary",children:[(0,t.jsx)(o.User,{size:12}),(0,t.jsx)("span",{children:e.residentName}),(0,t.jsx)("span",{className:"text-text-muted",children:"|"}),(0,t.jsx)(N.Clock,{size:12}),(0,t.jsxs)("span",{children:[new Date(e.date).toLocaleDateString("en-GB",{day:"numeric",month:"short"})," ","at ",e.time]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded-full",style:{backgroundColor:`${d.color}15`,color:d.color},children:d.label}),"once"!==e.recurrence&&(0,t.jsxs)("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded-full bg-primary-light text-primary flex items-center gap-1",children:[(0,t.jsx)(C,{size:10}),T.find(t=>t.value===e.recurrence)?.label]})]})]})]}),n&&(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-border space-y-2",children:[e.description&&(0,t.jsx)("p",{className:"text-sm text-text-secondary",children:e.description}),e.location&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[(0,t.jsx)(k,{size:14}),(0,t.jsx)("span",{children:e.location})]}),e.notes&&(0,t.jsxs)("p",{className:"text-xs text-text-muted italic",children:["Note: ",e.notes]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsxs)(x.Button,{variant:"outline",size:"sm",onClick:a,children:[(0,t.jsx)(g,{size:14,className:"mr-1"}),"Edit"]}),(0,t.jsxs)(x.Button,{variant:"danger",size:"sm",onClick:s,children:[(0,t.jsx)(v,{size:14,className:"mr-1"}),"Delete"]})]})]})]})})}function A({residents:e,appointments:a,onSave:s,onDelete:n,onEdit:l}){let[o,d]=(0,r.useState)(a),[c,u]=(0,r.useState)(!1),[m,p]=(0,r.useState)(null),[h,y]=(0,r.useState)(O),g=(t,r)=>{y(a=>({...a,[t]:r,..."residentId"===t?{residentName:e.find(e=>e.id===r)?.name||""}:{}}))},v=e.map(e=>({value:e.id,label:`${e.name} (Room ${e.roomNumber})`}));return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h2",{className:"text-lg font-bold text-text-primary flex items-center gap-2",children:[(0,t.jsx)(j,{size:20,className:"text-primary"}),"Appointments & Alarms"]}),(0,t.jsx)(x.Button,{variant:c?"ghost":"primary",size:"sm",onClick:()=>{u(!c),c&&(p(null),y(O))},children:c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.X,{size:16,className:"mr-1"})," Cancel"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b,{size:16,className:"mr-1"})," New"]})})]}),c&&(0,t.jsxs)(i.Card,{className:"scale-in",children:[(0,t.jsx)("h3",{className:"font-bold text-text-primary mb-4",children:m?"Edit Appointment":"New Appointment / Alarm"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(f.Select,{label:"Resident",options:v,value:h.residentId,onChange:e=>g("residentId",e.target.value),required:!0}),(0,t.jsx)(f.Input,{label:"Title",type:"text",value:h.title,onChange:e=>g("title",e.target.value),placeholder:"e.g. GP Check-up",required:!0}),(0,t.jsx)(f.TextArea,{label:"Description",value:h.description,onChange:e=>g("description",e.target.value),placeholder:"Add details..."}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsx)(f.Input,{label:"Date",type:"date",value:h.date,onChange:e=>g("date",e.target.value),required:!0}),(0,t.jsx)(f.Input,{label:"Time",type:"time",value:h.time,onChange:e=>g("time",e.target.value),required:!0})]}),(0,t.jsx)(f.Select,{label:"Repeat",options:T,value:h.recurrence,onChange:e=>g("recurrence",e.target.value)}),(0,t.jsx)(f.Select,{label:"Category",options:P,value:h.category,onChange:e=>g("category",e.target.value)}),(0,t.jsx)(f.Input,{label:"Location",type:"text",value:h.location,onChange:e=>g("location",e.target.value),placeholder:"e.g. Health Centre, Room 3"}),(0,t.jsx)(f.TextArea,{label:"Staff Notes",value:h.notes,onChange:e=>g("notes",e.target.value),placeholder:"Internal notes (not shown to resident)"}),(0,t.jsxs)(x.Button,{size:"lg",fullWidth:!0,onClick:()=>{if(h.residentId&&h.title&&h.date&&h.time){if(m)d(e=>e.map(e=>e.id===m?{...e,...h}:e)),l?.(m,h);else{let e={id:`a-${Date.now()}`,...h,createdBy:"Staff"};d(t=>[...t,e]),s?.(h)}y(O),u(!1),p(null)}},disabled:!h.residentId||!h.title||!h.date||!h.time,children:[(0,t.jsx)(E,{size:18,className:"mr-2"}),m?"Update Appointment":"Create Appointment"]})]})]}),(0,t.jsx)("div",{className:"space-y-2",children:0===o.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(j,{size:40,className:"text-text-muted mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-text-secondary",children:"No appointments yet"}),(0,t.jsx)("p",{className:"text-sm text-text-muted mt-1",children:"Create one using the button above"})]}):o.map(e=>(0,t.jsx)(R,{appointment:e,onEdit:()=>{y({residentId:e.residentId,residentName:e.residentName,title:e.title,description:e.description,date:e.date,time:e.time,recurrence:e.recurrence,category:e.category,location:e.location||"",notes:e.notes||""}),p(e.id),u(!0)},onDelete:()=>{var t;return t=e.id,void(d(e=>e.filter(e=>e.id!==t)),n?.(t))}},e.id))})]})}var $=e.i(30592),D=e.i(61911);let L=(0,n.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var B=e.i(25652);function I({resident:e,onClose:r}){return(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:r,"aria-hidden":"true"}),(0,t.jsxs)("div",{className:"relative bg-surface rounded-t-3xl sm:rounded-3xl w-full max-w-md mx-auto p-6 pb-8 scale-in max-h-[80vh] overflow-y-auto",role:"dialog","aria-modal":"true","aria-label":`${e.name} details`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-text-primary",children:e.name}),(0,t.jsx)("button",{onClick:r,className:"p-2 rounded-full hover:bg-primary-light transition-colors touch-target","aria-label":"Close",children:(0,t.jsx)(w.X,{size:20,className:"text-text-secondary"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)(i.Card,{padding:"sm",className:"text-center",children:[(0,t.jsx)(c.Star,{size:20,className:"text-accent mx-auto mb-1"}),(0,t.jsx)("p",{className:"text-xl font-bold text-text-primary",children:e.meritPoints}),(0,t.jsx)("p",{className:"text-xs text-text-muted",children:"Merit Points"})]}),(0,t.jsxs)(i.Card,{padding:"sm",className:"text-center",children:[(0,t.jsx)(B.TrendingUp,{size:20,className:"text-primary mx-auto mb-1"}),(0,t.jsxs)("p",{className:"text-xl font-bold text-text-primary",children:[e.taskCompletion,"%"]}),(0,t.jsx)("p",{className:"text-xs text-text-muted",children:"Task Completion"})]})]}),(0,t.jsxs)(i.Card,{padding:"sm",children:[(0,t.jsx)("h3",{className:"font-bold text-text-primary text-sm mb-2",children:"Details"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-text-secondary",children:"Room"}),(0,t.jsx)("span",{className:"font-medium text-text-primary",children:e.roomNumber})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-text-secondary",children:"Key Worker"}),(0,t.jsx)("span",{className:"font-medium text-text-primary",children:e.keyWorker})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-text-secondary",children:"Move-in Date"}),(0,t.jsx)("span",{className:"font-medium text-text-primary",children:new Date(e.moveInDate).toLocaleDateString("en-GB")})]})]})]}),(0,t.jsxs)(i.Card,{padding:"sm",children:[(0,t.jsx)("h3",{className:"font-bold text-text-primary text-sm mb-2",children:"Recent Tasks"}),(0,t.jsx)("div",{className:"space-y-2",children:e.recentTasks.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-text-secondary",children:e.title}),(0,t.jsx)("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${"completed"===e.status?"bg-success-light text-success":"bg-warning-light text-warning"}`,children:e.status})]},e.id))})]})]})]})]})}function F(){let[e,i]=(0,r.useState)("residents"),[s,n]=(0,r.useState)(null);return(0,t.jsxs)("div",{className:"min-h-screen bg-background pb-24",children:[(0,t.jsx)(a.TopBar,{title:"Staff Dashboard"}),(0,t.jsxs)("div",{className:"max-w-lg mx-auto px-4 py-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4 text-sm",children:[(0,t.jsx)(L,{size:16,className:"text-primary"}),(0,t.jsx)("span",{className:"font-semibold text-primary",children:"Staff Access"})]}),(0,t.jsxs)("div",{className:"flex gap-2 mb-5",children:[(0,t.jsxs)("button",{onClick:()=>i("residents"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl font-semibold text-sm transition-all cursor-pointer ${"residents"===e?"bg-primary text-white shadow-md":"bg-surface border border-border text-text-secondary hover:bg-primary-light"}`,children:[(0,t.jsx)(D.Users,{size:18}),"Residents"]}),(0,t.jsxs)("button",{onClick:()=>i("appointments"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl font-semibold text-sm transition-all cursor-pointer ${"appointments"===e?"bg-primary text-white shadow-md":"bg-surface border border-border text-text-secondary hover:bg-primary-light"}`,children:[(0,t.jsx)(j,{size:18}),"Appointments"]})]}),(0,t.jsxs)("div",{className:"page-transition",children:["residents"===e&&(0,t.jsx)(h,{residents:$.MOCK_RESIDENTS,onSelectResident:n}),"appointments"===e&&(0,t.jsx)(A,{residents:$.MOCK_RESIDENTS,appointments:$.MOCK_APPOINTMENTS})]},e)]}),s&&(0,t.jsx)(I,{resident:s,onClose:()=>n(null)}),(0,t.jsx)(a.BottomNavigation,{})]})}e.s(["default",()=>F],23261)}]);