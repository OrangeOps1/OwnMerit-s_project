(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return i}});let i=e=>{}},37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},76525,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let i={primary:"bg-primary text-white hover:bg-primary-dark active:bg-primary-dark shadow-sm",secondary:"bg-secondary text-white hover:opacity-90 active:opacity-80 shadow-sm",outline:"border-2 border-primary text-primary hover:bg-primary-light active:bg-primary-light",ghost:"text-text-secondary hover:bg-primary-light active:bg-primary-light",danger:"bg-danger text-white hover:opacity-90 active:opacity-80 shadow-sm",success:"bg-success text-white hover:opacity-90 active:opacity-80 shadow-sm"},n={sm:"px-4 py-2 text-sm rounded-lg min-h-[40px]",md:"px-6 py-3 text-base rounded-xl min-h-[48px]",lg:"px-8 py-4 text-lg rounded-xl min-h-[56px]",xl:"px-10 py-5 text-xl rounded-2xl min-h-[64px]"},a=(0,r.forwardRef)(({variant:e="primary",size:r="md",fullWidth:a=!1,className:o="",children:s,disabled:l,...c},d)=>(0,t.jsx)("button",{ref:d,className:`
          inline-flex items-center justify-center
          font-semibold
          transition-all duration-200 ease-in-out
          focus-visible:outline-3 focus-visible:outline-primary focus-visible:outline-offset-2
          disabled:opacity-50 disabled:cursor-not-allowed disabled:pointer-events-none
          touch-target cursor-pointer
          ${i[e]}
          ${n[r]}
          ${a?"w-full":""}
          ${o}
        `,disabled:l,...c,children:s}));a.displayName="Button",e.s(["Button",0,a])},75254,e=>{"use strict";var t=e.i(71645);let r=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),i=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,t.forwardRef)(({color:e="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,iconNode:c,...d},u)=>(0,t.createElement)("svg",{ref:u,...n,width:i,height:i,stroke:e,strokeWidth:o?24*Number(a)/Number(i):a,className:r("lucide",s),...!l&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(l)?l:[l]])),o=(e,n)=>{let o=(0,t.forwardRef)(({className:o,...s},l)=>(0,t.createElement)(a,{ref:l,iconNode:n,className:r(`lucide-${i(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,o),...s}));return o.displayName=i(e),o};e.s(["default",()=>o],75254)},71829,e=>{"use strict";e.s(["CATEGORY_CONFIG",0,{hygiene:{label:"Hygiene",icon:"droplets",color:"#4A7C8F"},appointment:{label:"Appointment",icon:"calendar-clock",color:"#8B5CF6"},chore:{label:"Chore",icon:"home",color:"#D4A853"},education:{label:"Education",icon:"book-open",color:"#6B9E76"},social:{label:"Social",icon:"users",color:"#E0896B"},health:{label:"Health",icon:"heart-pulse",color:"#C75C5C"}},"COLORS",0,{primary:"#4A7C8F",primaryLight:"#E8F0F3",primaryDark:"#365B6A",secondary:"#6B9E76",secondaryLight:"#E8F3EA",accent:"#D4A853",accentLight:"#FDF5E3",background:"#F7F8FA",surface:"#FFFFFF",textPrimary:"#2C3E50",textSecondary:"#6B7C8D",textMuted:"#95A5B6",border:"#E2E8F0",success:"#6B9E76",warning:"#D4A853",danger:"#C75C5C",dangerLight:"#FDE8E8",trafficGreen:"#70B080",trafficAmber:"#E0B060",trafficRed:"#E07070"},"MERIT_CONFIG",0,{voucherThreshold:100,voucherValue:10,maxDailyPoints:50,streakBonus:5},"MILESTONES",0,[{id:"m1",label:"Getting Started",pointsRequired:10,reward:"Welcome badge",icon:"star",achieved:!1},{id:"m2",label:"Building Routine",pointsRequired:25,reward:"Extra activity time",icon:"calendar",achieved:!1},{id:"m3",label:"Making Progress",pointsRequired:50,reward:"Choice of meal",icon:"trending-up",achieved:!1},{id:"m4",label:"Staying Strong",pointsRequired:75,reward:"Phone credit top-up",icon:"shield",achieved:!1},{id:"m5",label:"E-Voucher Earned!",pointsRequired:100,reward:"£10 E-Voucher",icon:"gift",achieved:!1}],"ONBOARDING_STEPS",0,[{id:"r-firstName",section:"resident",field:"firstName",label:"What is your first name?",helpText:"This is the name staff will use to greet you.",type:"text",placeholder:"e.g. James",required:!0},{id:"r-lastName",section:"resident",field:"lastName",label:"What is your last name?",type:"text",placeholder:"e.g. Smith",required:!0},{id:"r-dateOfBirth",section:"resident",field:"dateOfBirth",label:"What is your date of birth?",helpText:"We need this for your records.",type:"date",required:!0},{id:"r-phone",section:"resident",field:"phone",label:"What is your phone number?",helpText:"We'll use this to send you reminders.",type:"tel",placeholder:"e.g. 07700 900000",required:!1},{id:"r-email",section:"resident",field:"email",label:"What is your email address?",helpText:"Optional - for receiving updates.",type:"email",placeholder:"e.g. james@email.com",required:!1},{id:"r-roomNumber",section:"resident",field:"roomNumber",label:"What room have you been assigned?",helpText:"Check with staff if you're not sure.",type:"text",placeholder:"e.g. Room 12",required:!0},{id:"r-dietaryNeeds",section:"resident",field:"dietaryNeeds",label:"Do you have any dietary needs?",helpText:"Allergies, vegetarian, halal, etc.",type:"textarea",placeholder:"Leave blank if none",required:!1},{id:"r-accessibilityNeeds",section:"resident",field:"accessibilityNeeds",label:"Do you have any accessibility needs?",helpText:"Anything that helps us support you better - mobility, vision, hearing, etc.",type:"textarea",placeholder:"Leave blank if none",required:!1},{id:"nok-name",section:"nextOfKin",field:"name",label:"Who is your next of kin?",helpText:"The person we should contact about your welfare.",type:"text",placeholder:"Full name",required:!0},{id:"nok-relationship",section:"nextOfKin",field:"relationship",label:"What is their relationship to you?",type:"select",required:!0,options:[{value:"parent",label:"Parent"},{value:"sibling",label:"Brother / Sister"},{value:"partner",label:"Partner"},{value:"child",label:"Son / Daughter"},{value:"friend",label:"Friend"},{value:"social-worker",label:"Social Worker"},{value:"other",label:"Other"}]},{id:"nok-phone",section:"nextOfKin",field:"phone",label:"What is their phone number?",type:"tel",placeholder:"e.g. 07700 900000",required:!0},{id:"nok-email",section:"nextOfKin",field:"email",label:"What is their email address?",helpText:"Optional",type:"email",placeholder:"e.g. relative@email.com",required:!1},{id:"ec-name",section:"emergencyContact",field:"name",label:"Who should we contact in an emergency?",helpText:"This can be the same as your next of kin.",type:"text",placeholder:"Full name",required:!0},{id:"ec-relationship",section:"emergencyContact",field:"relationship",label:"What is their relationship to you?",type:"select",required:!0,options:[{value:"parent",label:"Parent"},{value:"sibling",label:"Brother / Sister"},{value:"partner",label:"Partner"},{value:"child",label:"Son / Daughter"},{value:"friend",label:"Friend"},{value:"social-worker",label:"Social Worker"},{value:"keyworker",label:"Key Worker"},{value:"other",label:"Other"}]},{id:"ec-phone",section:"emergencyContact",field:"phone",label:"What is their phone number?",type:"tel",placeholder:"e.g. 07700 900000",required:!0},{id:"ec-alternatePhone",section:"emergencyContact",field:"alternatePhone",label:"Is there a backup number we can try?",helpText:"Optional - a second number just in case.",type:"tel",placeholder:"e.g. 07700 900001",required:!1}]])},95468,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},98183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={assign:function(){return l},searchParamsToUrlQuery:function(){return a},urlQueryToSearchParams:function(){return s}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});function a(e){let t={};for(let[r,i]of e.entries()){let e=t[r];void 0===e?t[r]=i:Array.isArray(e)?e.push(i):t[r]=[e,i]}return t}function o(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function s(e){let t=new URLSearchParams;for(let[r,i]of Object.entries(e))if(Array.isArray(i))for(let e of i)t.append(r,o(e));else t.set(r,o(i));return t}function l(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,i]of r.entries())e.append(t,i)}return e}},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={formatUrl:function(){return s},formatWithValidation:function(){return c},urlObjectKeys:function(){return l}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let a=e.r(90809)._(e.r(98183)),o=/https?|ftp|gopher|file/;function s(e){let{auth:t,hostname:r}=e,i=e.protocol||"",n=e.pathname||"",s=e.hash||"",l=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),l&&"object"==typeof l&&(l=String(a.urlQueryToSearchParams(l)));let d=e.search||l&&`?${l}`||"";return i&&!i.endsWith(":")&&(i+=":"),e.slashes||(!i||o.test(i))&&!1!==c?(c="//"+(c||""),n&&"/"!==n[0]&&(n="/"+n)):c||(c=""),s&&"#"!==s[0]&&(s="#"+s),d&&"?"!==d[0]&&(d="?"+d),n=n.replace(/[?#]/g,encodeURIComponent),d=d.replace("#","%23"),`${i}${c}${n}${d}${s}`}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return s(e)}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return n}});let i=e.r(71645);function n(e,t){let r=(0,i.useRef)(null),n=(0,i.useRef)(null);return(0,i.useCallback)(i=>{if(null===i){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=a(e,i)),t&&(n.current=a(t,i))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={DecodeError:function(){return y},MiddlewareNotFoundError:function(){return E},MissingStaticPage:function(){return v},NormalizeError:function(){return x},PageNotFoundError:function(){return b},SP:function(){return p},ST:function(){return g},WEB_VITALS:function(){return a},execOnce:function(){return o},getDisplayName:function(){return u},getLocationOrigin:function(){return c},getURL:function(){return d},isAbsoluteUrl:function(){return l},isResSent:function(){return h},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return m},stringifyError:function(){return w}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let a=["CLS","FCP","FID","INP","LCP","TTFB"];function o(e){let t,r=!1;return(...i)=>(r||(r=!0,t=e(...i)),t)}let s=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>s.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function d(){let{href:e}=window.location,t=c();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function h(e){return e.finished||e.headersSent}function m(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function f(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await f(t.Component,t.ctx)}:{};let i=await e.getInitialProps(t);if(r&&h(r))return i;if(!i)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${i}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return i}let p="u">typeof performance,g=p&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class y extends Error{}class x extends Error{}class b extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class v extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class E extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function w(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return a}});let i=e.r(18967),n=e.r(52817);function a(e){if(!(0,i.isAbsoluteUrl)(e))return!0;try{let t=(0,i.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,n.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return i}});let i=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={default:function(){return y},useLinkStatus:function(){return b}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let a=e.r(90809),o=e.r(43476),s=a._(e.r(71645)),l=e.r(95057),c=e.r(8372),d=e.r(18581),u=e.r(18967),h=e.r(5550);e.r(33525);let m=e.r(91949),f=e.r(73668),p=e.r(9396);function g(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function y(t){var r;let i,n,a,[l,y]=(0,s.useOptimistic)(m.IDLE_LINK_STATUS),b=(0,s.useRef)(null),{href:v,as:E,children:w,prefetch:C=null,passHref:N,replace:k,shallow:M,scroll:R,onClick:P,onMouseEnter:j,onTouchStart:S,legacyBehavior:O=!1,onNavigate:A,ref:T,unstable_dynamicOnHover:_,...I}=t;i=w,O&&("string"==typeof i||"number"==typeof i)&&(i=(0,o.jsx)("a",{children:i}));let L=s.default.useContext(c.AppRouterContext),D=!1!==C,F=!1!==C?null===(r=C)||"auto"===r?p.FetchStrategy.PPR:p.FetchStrategy.Full:p.FetchStrategy.PPR,{href:B,as:z}=s.default.useMemo(()=>{let e=g(v);return{href:e,as:E?g(E):e}},[v,E]);if(O){if(i?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});n=s.default.Children.only(i)}let $=O?n&&"object"==typeof n&&n.ref:T,U=s.default.useCallback(e=>(null!==L&&(b.current=(0,m.mountLinkInstance)(e,B,L,F,D,y)),()=>{b.current&&((0,m.unmountLinkForCurrentNavigation)(b.current),b.current=null),(0,m.unmountPrefetchableInstance)(e)}),[D,B,L,F,y]),W={ref:(0,d.useMergedRef)(U,$),onClick(t){O||"function"!=typeof P||P(t),O&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(t),!L||t.defaultPrevented||function(t,r,i,n,a,o,l){if("u">typeof window){let c,{nodeName:d}=t.currentTarget;if("A"===d.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,f.isLocalURL)(r)){a&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(99781);s.default.startTransition(()=>{u(i||r,a?"replace":"push",o??!0,n.current)})}}(t,B,z,b,k,R,A)},onMouseEnter(e){O||"function"!=typeof j||j(e),O&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),L&&D&&(0,m.onNavigationIntent)(e.currentTarget,!0===_)},onTouchStart:function(e){O||"function"!=typeof S||S(e),O&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),L&&D&&(0,m.onNavigationIntent)(e.currentTarget,!0===_)}};return(0,u.isAbsoluteUrl)(z)?W.href=z:O&&!N&&("a"!==n.type||"href"in n.props)||(W.href=(0,h.addBasePath)(z)),a=O?s.default.cloneElement(n,W):(0,o.jsx)("a",{...I,...W,children:i}),(0,o.jsx)(x.Provider,{value:l,children:a})}e.r(84508);let x=(0,s.createContext)(m.IDLE_LINK_STATUS),b=()=>(0,s.useContext)(x);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18566,(e,t,r)=>{t.exports=e.r(76562)},40148,54385,25652,30699,5050,e=>{"use strict";var t=e.i(43476),r=e.i(22016),i=e.i(18566),n=e.i(75254);let a=(0,n.default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),o=(0,n.default)("clipboard-check",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);e.s(["ClipboardCheck",()=>o],54385);let s=(0,n.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>s],25652);let l=(0,n.default)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);e.s(["Gift",()=>l],30699);let c=[{href:"/",label:"Home",icon:a},{href:"/proof",label:"Tasks",icon:o},{href:"/progress",label:"Progress",icon:s},{href:"/voucher",label:"Rewards",icon:l},{href:"/admin",label:"Staff",icon:(0,n.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}];function d(){let e=(0,i.usePathname)();return(0,t.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-surface border-t border-border shadow-lg",role:"navigation","aria-label":"Main navigation",children:(0,t.jsx)("ul",{className:"flex justify-around items-center max-w-lg mx-auto",children:c.map(i=>{let n=e===i.href||"/"!==i.href&&e.startsWith(i.href),a=i.icon;return(0,t.jsx)("li",{children:(0,t.jsxs)(r.default,{href:i.href,className:`
                  flex flex-col items-center justify-center
                  py-3 px-4
                  min-h-[64px] min-w-[64px]
                  transition-colors duration-200
                  touch-target
                  ${n?"text-primary":"text-text-muted hover:text-text-secondary"}
                `,"aria-current":n?"page":void 0,children:[(0,t.jsx)(a,{size:24,strokeWidth:n?2.5:2,"aria-hidden":"true"}),(0,t.jsx)("span",{className:`text-xs mt-1 font-medium ${n?"font-bold":""}`,children:i.label})]})},i.href)})})})}function u({title:e,showBack:r=!1,onBack:i}){return(0,t.jsx)("header",{className:"sticky top-0 z-40 bg-surface/95 backdrop-blur-sm border-b border-border",children:(0,t.jsxs)("div",{className:"max-w-lg mx-auto px-4 py-4 flex items-center gap-3",children:[r&&(0,t.jsx)("button",{onClick:i,className:"p-2 -ml-2 rounded-xl hover:bg-primary-light transition-colors touch-target","aria-label":"Go back",children:(0,t.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M15 18l-6-6 6-6"})})}),(0,t.jsx)("h1",{className:"text-xl font-bold text-text-primary",children:e})]})})}e.s(["BottomNavigation",()=>d,"TopBar",()=>u],40148);let h={sm:"p-4",md:"p-6",lg:"p-8"};function m({children:e,className:r="",padding:i="md",hover:n=!1,onClick:a,role:o,ariaLabel:s}){let l=!!a;return(0,t.jsx)(l?"button":"div",{className:`
        bg-surface rounded-2xl border border-border
        shadow-sm
        ${h[i]}
        ${n?"hover:shadow-md hover:border-primary/30 transition-all duration-200":""}
        ${l?"cursor-pointer text-left w-full touch-target":""}
        ${r}
      `,onClick:a,role:o,"aria-label":s,children:e})}e.s(["Card",()=>m],5050)},70273,e=>{"use strict";let t=(0,e.i(75254).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>t],70273)},30592,e=>{"use strict";var t=e.i(71829);let r=[{id:"t1",title:"Make your bed",description:"Make your bed neatly before 9am",category:"chore",status:"pending",meritPoints:5,dueDate:"2026-02-12",dueTime:"09:00",requiresProof:!0},{id:"t2",title:"Morning hygiene routine",description:"Brush teeth, shower, and get dressed",category:"hygiene",status:"pending",meritPoints:5,dueDate:"2026-02-12",dueTime:"08:30",requiresProof:!1},{id:"t3",title:"Attend literacy class",description:"Room 3, Ground Floor - Mrs. Thompson",category:"education",status:"pending",meritPoints:10,dueDate:"2026-02-12",dueTime:"10:00",requiresProof:!0},{id:"t4",title:"GP Appointment",description:"Dr. Patel at the Health Centre, bring your ID",category:"appointment",status:"pending",meritPoints:10,dueDate:"2026-02-12",dueTime:"14:00",requiresProof:!0},{id:"t5",title:"Cook dinner (group rota)",description:"It's your turn on the cooking rota tonight",category:"chore",status:"pending",meritPoints:8,dueDate:"2026-02-12",dueTime:"17:30",requiresProof:!0},{id:"t6",title:"Social activity - Board games",description:"Join others in the common room for game night",category:"social",status:"completed",meritPoints:5,dueDate:"2026-02-11",dueTime:"19:00",requiresProof:!1,completedAt:"2026-02-11T19:45:00"}],i={currentPoints:68,totalEarned:218,level:3,milestones:t.MILESTONES.map(e=>({...e,achieved:e.pointsRequired<=68})),weeklyHistory:[{day:"Mon",points:15},{day:"Tue",points:20},{day:"Wed",points:10},{day:"Thu",points:8},{day:"Fri",points:25},{day:"Sat",points:5},{day:"Sun",points:12}]},n=[{id:"res1",name:"James Wilson",roomNumber:"12",moveInDate:"2025-11-15",keyWorker:"Sarah Mitchell",meritPoints:68,taskCompletion:82,trafficLight:"green",recentTasks:r.slice(0,3)},{id:"res2",name:"David Brown",roomNumber:"8",moveInDate:"2025-12-01",keyWorker:"Sarah Mitchell",meritPoints:45,taskCompletion:65,trafficLight:"amber",recentTasks:r.slice(1,4)},{id:"res3",name:"Michael Taylor",roomNumber:"3",moveInDate:"2026-01-10",keyWorker:"Tom Henderson",meritPoints:22,taskCompletion:40,trafficLight:"red",recentTasks:r.slice(2,5)},{id:"res4",name:"Ryan Clarke",roomNumber:"15",moveInDate:"2025-10-20",keyWorker:"Tom Henderson",meritPoints:92,taskCompletion:95,trafficLight:"green",recentTasks:r.slice(0,2)},{id:"res5",name:"Chris Ahmed",roomNumber:"7",moveInDate:"2026-01-25",keyWorker:"Lisa Wong",meritPoints:35,taskCompletion:55,trafficLight:"amber",recentTasks:r.slice(3,6)}];e.s(["MOCK_APPOINTMENTS",0,[{id:"a1",residentId:"res1",residentName:"James Wilson",title:"GP Check-up",description:"Routine health check with Dr. Patel",date:"2026-02-14",time:"10:00",recurrence:"once",category:"health",location:"Health Centre",createdBy:"Sarah Mitchell"},{id:"a2",residentId:"res2",residentName:"David Brown",title:"Probation Meeting",description:"Monthly check-in with probation officer",date:"2026-02-15",time:"14:00",recurrence:"monthly",category:"appointment",location:"Office 3",createdBy:"Sarah Mitchell"},{id:"a3",residentId:"res3",residentName:"Michael Taylor",title:"Literacy Class",description:"Weekly literacy session",date:"2026-02-12",time:"10:00",recurrence:"weekly",category:"education",location:"Room 3, Ground Floor",createdBy:"Tom Henderson"}],"MOCK_MERIT_PROGRESS",0,i,"MOCK_REMINDERS",0,[{id:"r1",title:"Take morning medication",description:"Remember to take your medication with breakfast",time:"08:00",date:"2026-02-12",priority:"high",recurrence:"daily",category:"health",isActive:!0,isDismissed:!1},{id:"r2",title:"Key worker meeting",description:"Weekly check-in with Sarah in office 2",time:"11:00",date:"2026-02-12",priority:"medium",recurrence:"weekly",category:"appointment",isActive:!0,isDismissed:!1},{id:"r3",title:"Tidy your room",description:"Room inspection at 5pm - tidy up beforehand",time:"16:00",date:"2026-02-12",priority:"medium",recurrence:"weekdays",category:"chore",isActive:!0,isDismissed:!1},{id:"r4",title:"Evening walk",description:"30-minute walk around the grounds",time:"18:00",date:"2026-02-12",priority:"low",recurrence:"daily",category:"health",isActive:!0,isDismissed:!1}],"MOCK_RESIDENTS",0,n,"MOCK_TASKS",0,r,"MOCK_VOUCHERS",0,[{id:"v1",code:"OWNMERIT-2026-A1B2C3",value:10,currency:"GBP",expiresAt:"2026-03-12",status:"available",retailer:"Tesco"},{id:"v2",code:"OWNMERIT-2026-D4E5F6",value:10,currency:"GBP",expiresAt:"2026-02-28",redeemedAt:"2026-02-01",status:"redeemed",retailer:"Primark"}]])},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},70756,e=>{"use strict";let t=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},72880,e=>{"use strict";let t,r;var i,n,a,o,s,l=e.i(43476),c=e.i(71645),d=e.i(40148),u=Object.defineProperty,h=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,p=(e,t,r)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,g=(e,t)=>{for(var r in t||(t={}))m.call(t,r)&&p(e,r,t[r]);if(h)for(var r of h(t))f.call(t,r)&&p(e,r,t[r]);return e},y=(e,t)=>{var r={};for(var i in e)m.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&h)for(var i of h(e))0>t.indexOf(i)&&f.call(e,i)&&(r[i]=e[i]);return r};(e=>{let t=class t{constructor(e,r,i,a){if(this.version=e,this.errorCorrectionLevel=r,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw RangeError("Version value out of range");if(a<-1||a>7)throw RangeError("Mask value out of range");this.size=4*e+17;let o=[];for(let e=0;e<this.size;e++)o.push(!1);for(let e=0;e<this.size;e++)this.modules.push(o.slice()),this.isFunction.push(o.slice());this.drawFunctionPatterns();const s=this.addEccAndInterleave(i);if(this.drawCodewords(s),-1==a){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const r=this.getPenaltyScore();r<e&&(a=t,e=r),this.applyMask(t)}}n(0<=a&&a<=7),this.mask=a,this.applyMask(a),this.drawFormatBits(a),this.isFunction=[]}static encodeText(r,i){let n=e.QrSegment.makeSegments(r);return t.encodeSegments(n,i)}static encodeBinary(r,i){let n=e.QrSegment.makeBytes(r);return t.encodeSegments([n],i)}static encodeSegments(e,i,a=1,s=40,l=-1,c=!0){let d,u;if(!(t.MIN_VERSION<=a&&a<=s&&s<=t.MAX_VERSION)||l<-1||l>7)throw RangeError("Invalid value");for(d=a;;d++){let r=8*t.getNumDataCodewords(d,i),n=o.getTotalBits(e,d);if(n<=r){u=n;break}if(d>=s)throw RangeError("Data too long")}for(let e of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])c&&u<=8*t.getNumDataCodewords(d,e)&&(i=e);let h=[];for(let t of e)for(let e of(r(t.mode.modeBits,4,h),r(t.numChars,t.mode.numCharCountBits(d),h),t.getData()))h.push(e);n(h.length==u);let m=8*t.getNumDataCodewords(d,i);n(h.length<=m),r(0,Math.min(4,m-h.length),h),r(0,(8-h.length%8)%8,h),n(h.length%8==0);for(let e=236;h.length<m;e^=253)r(e,8,h);let f=[];for(;8*f.length<h.length;)f.push(0);return h.forEach((e,t)=>f[t>>>3]|=e<<7-(7&t)),new t(d,i,f,l)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let e=this.getAlignmentPatternPositions(),t=e.length;for(let r=0;r<t;r++)for(let i=0;i<t;i++)(0!=r||0!=i)&&(0!=r||i!=t-1)&&(r!=t-1||0!=i)&&this.drawAlignmentPattern(e[r],e[i]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){let t=this.errorCorrectionLevel.formatBits<<3|e,r=t;for(let e=0;e<10;e++)r=r<<1^(r>>>9)*1335;let a=(t<<10|r)^21522;n(a>>>15==0);for(let e=0;e<=5;e++)this.setFunctionModule(8,e,i(a,e));this.setFunctionModule(8,7,i(a,6)),this.setFunctionModule(8,8,i(a,7)),this.setFunctionModule(7,8,i(a,8));for(let e=9;e<15;e++)this.setFunctionModule(14-e,8,i(a,e));for(let e=0;e<8;e++)this.setFunctionModule(this.size-1-e,8,i(a,e));for(let e=8;e<15;e++)this.setFunctionModule(8,this.size-15+e,i(a,e));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let t=0;t<12;t++)e=e<<1^(e>>>11)*7973;let t=this.version<<12|e;n(t>>>18==0);for(let e=0;e<18;e++){let r=i(t,e),n=this.size-11+e%3,a=Math.floor(e/3);this.setFunctionModule(n,a,r),this.setFunctionModule(a,n,r)}}drawFinderPattern(e,t){for(let r=-4;r<=4;r++)for(let i=-4;i<=4;i++){let n=Math.max(Math.abs(i),Math.abs(r)),a=e+i,o=t+r;0<=a&&a<this.size&&0<=o&&o<this.size&&this.setFunctionModule(a,o,2!=n&&4!=n)}}drawAlignmentPattern(e,t){for(let r=-2;r<=2;r++)for(let i=-2;i<=2;i++)this.setFunctionModule(e+i,t+r,1!=Math.max(Math.abs(i),Math.abs(r)))}setFunctionModule(e,t,r){this.modules[t][e]=r,this.isFunction[t][e]=!0}addEccAndInterleave(e){let r=this.version,i=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(r,i))throw RangeError("Invalid argument");let a=t.NUM_ERROR_CORRECTION_BLOCKS[i.ordinal][r],o=t.ECC_CODEWORDS_PER_BLOCK[i.ordinal][r],s=Math.floor(t.getNumRawDataModules(r)/8),l=a-s%a,c=Math.floor(s/a),d=[],u=t.reedSolomonComputeDivisor(o);for(let r=0,i=0;r<a;r++){let n=e.slice(i,i+c-o+(r<l?0:1));i+=n.length;let a=t.reedSolomonComputeRemainder(n,u);r<l&&n.push(0),d.push(n.concat(a))}let h=[];for(let e=0;e<d[0].length;e++)d.forEach((t,r)=>{(e!=c-o||r>=l)&&h.push(t[e])});return n(h.length==s),h}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw RangeError("Invalid argument");let r=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let n=0;n<this.size;n++)for(let a=0;a<2;a++){let o=t-a,s=(t+1&2)==0?this.size-1-n:n;!this.isFunction[s][o]&&r<8*e.length&&(this.modules[s][o]=i(e[r>>>3],7-(7&r)),r++)}}n(r==8*e.length)}applyMask(e){if(e<0||e>7)throw RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let r=0;r<this.size;r++){let i;switch(e){case 0:i=(r+t)%2==0;break;case 1:i=t%2==0;break;case 2:i=r%3==0;break;case 3:i=(r+t)%3==0;break;case 4:i=(Math.floor(r/3)+Math.floor(t/2))%2==0;break;case 5:i=r*t%2+r*t%3==0;break;case 6:i=(r*t%2+r*t%3)%2==0;break;case 7:i=((r+t)%2+r*t%3)%2==0;break;default:throw Error("Unreachable")}!this.isFunction[t][r]&&i&&(this.modules[t][r]=!this.modules[t][r])}}getPenaltyScore(){let e=0;for(let r=0;r<this.size;r++){let i=!1,n=0,a=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[r][o]==i?5==++n?e+=t.PENALTY_N1:n>5&&e++:(this.finderPenaltyAddHistory(n,a),i||(e+=this.finderPenaltyCountPatterns(a)*t.PENALTY_N3),i=this.modules[r][o],n=1);e+=this.finderPenaltyTerminateAndCount(i,n,a)*t.PENALTY_N3}for(let r=0;r<this.size;r++){let i=!1,n=0,a=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[o][r]==i?5==++n?e+=t.PENALTY_N1:n>5&&e++:(this.finderPenaltyAddHistory(n,a),i||(e+=this.finderPenaltyCountPatterns(a)*t.PENALTY_N3),i=this.modules[o][r],n=1);e+=this.finderPenaltyTerminateAndCount(i,n,a)*t.PENALTY_N3}for(let r=0;r<this.size-1;r++)for(let i=0;i<this.size-1;i++){let n=this.modules[r][i];n==this.modules[r][i+1]&&n==this.modules[r+1][i]&&n==this.modules[r+1][i+1]&&(e+=t.PENALTY_N2)}let r=0;for(let e of this.modules)r=e.reduce((e,t)=>e+ +!!t,r);let i=this.size*this.size,a=Math.ceil(Math.abs(20*r-10*i)/i)-1;return n(0<=a&&a<=9),n(0<=(e+=a*t.PENALTY_N4)&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{let e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2)),r=[6];for(let i=this.size-7;r.length<e;i-=t)r.splice(1,0,i);return r}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw RangeError("Version number out of range");let r=(16*e+128)*e+64;if(e>=2){let t=Math.floor(e/7)+2;r-=(25*t-10)*t-55,e>=7&&(r-=36)}return n(208<=r&&r<=29648),r}static getNumDataCodewords(e,r){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw RangeError("Degree out of range");let r=[];for(let t=0;t<e-1;t++)r.push(0);r.push(1);let i=1;for(let n=0;n<e;n++){for(let e=0;e<r.length;e++)r[e]=t.reedSolomonMultiply(r[e],i),e+1<r.length&&(r[e]^=r[e+1]);i=t.reedSolomonMultiply(i,2)}return r}static reedSolomonComputeRemainder(e,r){let i=r.map(e=>0);for(let n of e){let e=n^i.shift();i.push(0),r.forEach((r,n)=>i[n]^=t.reedSolomonMultiply(r,e))}return i}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw RangeError("Byte out of range");let r=0;for(let i=7;i>=0;i--)r=r<<1^(r>>>7)*285^(t>>>i&1)*e;return n(r>>>8==0),r}finderPenaltyCountPatterns(e){let t=e[1];n(t<=3*this.size);let r=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(r&&e[0]>=4*t&&e[6]>=t?1:0)+(r&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,r){return e&&(this.finderPenaltyAddHistory(t,r),t=0),t+=this.size,this.finderPenaltyAddHistory(t,r),this.finderPenaltyCountPatterns(r)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};function r(e,t,r){if(t<0||t>31||e>>>t!=0)throw RangeError("Value out of range");for(let i=t-1;i>=0;i--)r.push(e>>>i&1)}function i(e,t){return(e>>>t&1)!=0}function n(e){if(!e)throw Error("Assertion error")}t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;let a=class e{constructor(e,t,r){if(this.mode=e,this.numChars=t,this.bitData=r,t<0)throw RangeError("Invalid argument");this.bitData=r.slice()}static makeBytes(t){let i=[];for(let e of t)r(e,8,i);return new e(e.Mode.BYTE,t.length,i)}static makeNumeric(t){if(!e.isNumeric(t))throw RangeError("String contains non-numeric characters");let i=[];for(let e=0;e<t.length;){let n=Math.min(t.length-e,3);r(parseInt(t.substring(e,e+n),10),3*n+1,i),e+=n}return new e(e.Mode.NUMERIC,t.length,i)}static makeAlphanumeric(t){let i;if(!e.isAlphanumeric(t))throw RangeError("String contains unencodable characters in alphanumeric mode");let n=[];for(i=0;i+2<=t.length;i+=2){let a=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(i));r(a+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(i+1)),11,n)}return i<t.length&&r(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(i)),6,n),new e(e.Mode.ALPHANUMERIC,t.length,n)}static makeSegments(t){return""==t?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}static makeEci(t){let i=[];if(t<0)throw RangeError("ECI assignment value out of range");if(t<128)r(t,8,i);else if(t<16384)r(2,2,i),r(t,14,i);else if(t<1e6)r(6,3,i),r(t,21,i);else throw RangeError("ECI assignment value out of range");return new e(e.Mode.ECI,0,i)}static isNumeric(t){return e.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return e.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let r=0;for(let i of e){let e=i.mode.numCharCountBits(t);if(i.numChars>=1<<e)return 1/0;r+=4+e+i.bitData.length}return r}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let r=0;r<e.length;r++)"%"!=e.charAt(r)?t.push(e.charCodeAt(r)):(t.push(parseInt(e.substring(r+1,r+3),16)),r+=2);return t}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=a;e.QrSegment=a})(s||(s={})),n=(i=s||(s={})).QrCode||(i.QrCode={}),(t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}}).LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),n.Ecc=t,o=(a=s||(s={})).QrSegment||(a.QrSegment={}),(r=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}}).NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),o.Mode=r;var x=s,b={L:x.QrCode.Ecc.LOW,M:x.QrCode.Ecc.MEDIUM,Q:x.QrCode.Ecc.QUARTILE,H:x.QrCode.Ecc.HIGH},v="#FFFFFF",E="#000000";function w(e,t=0){let r=[];return e.forEach(function(e,i){let n=null;e.forEach(function(a,o){if(!a&&null!==n){r.push(`M${n+t} ${i+t}h${o-n}v1H${n+t}z`),n=null;return}if(o===e.length-1){if(!a)return;null===n?r.push(`M${o+t},${i+t} h1v1H${o+t}z`):r.push(`M${n+t},${i+t} h${o+1-n}v1H${n+t}z`);return}a&&null===n&&(n=o)})}),r.join("")}function C(e,t){return e.slice().map((e,r)=>r<t.y||r>=t.y+t.h?e:e.map((e,r)=>(r<t.x||r>=t.x+t.w)&&e))}function N({value:e,level:t,minVersion:r,includeMargin:i,marginSize:n,imageSettings:a,size:o,boostLevel:s}){let l=c.default.useMemo(()=>{let i=(Array.isArray(e)?e:[e]).reduce((e,t)=>(e.push(...x.QrSegment.makeSegments(t)),e),[]);return x.QrCode.encodeSegments(i,b[t],r,void 0,void 0,s)},[e,t,r,s]),{cells:d,margin:u,numCells:h,calculatedImageSettings:m}=c.default.useMemo(()=>{let e=l.getModules(),t=null!=n?Math.max(Math.floor(n),0):4*!!i,r=e.length+2*t,s=function(e,t,r,i){if(null==i)return null;let n=e.length+2*r,a=Math.floor(.1*t),o=n/t,s=(i.width||a)*o,l=(i.height||a)*o,c=null==i.x?e.length/2-s/2:i.x*o,d=null==i.y?e.length/2-l/2:i.y*o,u=null==i.opacity?1:i.opacity,h=null;if(i.excavate){let e=Math.floor(c),t=Math.floor(d),r=Math.ceil(s+c-e),i=Math.ceil(l+d-t);h={x:e,y:t,w:r,h:i}}return{x:c,y:d,h:l,w:s,excavation:h,opacity:u,crossOrigin:i.crossOrigin}}(e,o,t,a);return{cells:e,margin:t,numCells:r,calculatedImageSettings:s}},[l,o,a,i,n]);return{qrcode:l,margin:u,cells:d,numCells:h,calculatedImageSettings:m}}var k=function(){try{new Path2D().addPath(new Path2D)}catch(e){return!1}return!0}();c.default.forwardRef(function(e,t){let{value:r,size:i=128,level:n="L",bgColor:a=v,fgColor:o=E,includeMargin:s=!1,minVersion:l=1,boostLevel:d,marginSize:u,imageSettings:h}=e,m=y(e,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:f}=m,p=y(m,["style"]),x=null==h?void 0:h.src,b=c.default.useRef(null),M=c.default.useRef(null),R=c.default.useCallback(e=>{b.current=e,"function"==typeof t?t(e):t&&(t.current=e)},[t]),[P,j]=c.default.useState(!1),{margin:S,cells:O,numCells:A,calculatedImageSettings:T}=N({value:r,level:n,minVersion:l,boostLevel:d,includeMargin:s,marginSize:u,imageSettings:h,size:i});c.default.useEffect(()=>{if(null!=b.current){let e=b.current,t=e.getContext("2d");if(!t)return;let r=O,n=M.current,s=null!=T&&null!==n&&n.complete&&0!==n.naturalHeight&&0!==n.naturalWidth;s&&null!=T.excavation&&(r=C(O,T.excavation));let l=window.devicePixelRatio||1;e.height=e.width=i*l;let c=i/A*l;t.scale(c,c),t.fillStyle=a,t.fillRect(0,0,A,A),t.fillStyle=o,k?t.fill(new Path2D(w(r,S))):O.forEach(function(e,r){e.forEach(function(e,i){e&&t.fillRect(i+S,r+S,1,1)})}),T&&(t.globalAlpha=T.opacity),s&&t.drawImage(n,T.x+S,T.y+S,T.w,T.h)}}),c.default.useEffect(()=>{j(!1)},[x]);let _=g({height:i,width:i},f),I=null;return null!=x&&(I=c.default.createElement("img",{src:x,key:x,style:{display:"none"},onLoad:()=>{j(!0)},ref:M,crossOrigin:null==T?void 0:T.crossOrigin})),c.default.createElement(c.default.Fragment,null,c.default.createElement("canvas",g({style:_,height:i,width:i,ref:R,role:"img"},p)),I)}).displayName="QRCodeCanvas";var M=c.default.forwardRef(function(e,t){let{value:r,size:i=128,level:n="L",bgColor:a=v,fgColor:o=E,includeMargin:s=!1,minVersion:l=1,boostLevel:d,title:u,marginSize:h,imageSettings:m}=e,f=y(e,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:p,cells:x,numCells:b,calculatedImageSettings:k}=N({value:r,level:n,minVersion:l,boostLevel:d,includeMargin:s,marginSize:h,imageSettings:m,size:i}),M=x,R=null;null!=m&&null!=k&&(null!=k.excavation&&(M=C(x,k.excavation)),R=c.default.createElement("image",{href:m.src,height:k.h,width:k.w,x:k.x+p,y:k.y+p,preserveAspectRatio:"none",opacity:k.opacity,crossOrigin:k.crossOrigin}));let P=w(M,p);return c.default.createElement("svg",g({height:i,width:i,viewBox:`0 0 ${b} ${b}`,ref:t,role:"img"},f),!!u&&c.default.createElement("title",null,u),c.default.createElement("path",{fill:a,d:`M0,0 h${b}v${b}H0z`,shapeRendering:"crispEdges"}),c.default.createElement("path",{fill:o,d:P,shapeRendering:"crispEdges"}),R)});M.displayName="QRCodeSVG";var R=e.i(5050),P=e.i(76525),j=e.i(71829),S=e.i(30699),O=e.i(75254);let A=(0,O.default)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var T=e.i(37727);let _=(0,O.default)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]),I=(0,O.default)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var L=e.i(95468),D=e.i(70273),F=e.i(70756),B=e.i(3116);function z({onClose:e}){let t=[{icon:(0,l.jsx)(I,{size:28,className:"text-primary"}),title:"Show this QR code",description:"Open this screen and show the QR code at the till when you're ready to pay."},{icon:(0,l.jsx)(_,{size:28,className:"text-secondary"}),title:"The cashier will scan it",description:"The cashier will scan your code to apply the discount to your purchase."},{icon:(0,l.jsx)(L.CheckCircle2,{size:28,className:"text-success"}),title:"That's it!",description:"The voucher value will be taken off your total. You can use it all at once."}];return(0,l.jsxs)("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:e,"aria-hidden":"true"}),(0,l.jsxs)("div",{className:"relative bg-surface rounded-t-3xl sm:rounded-3xl w-full max-w-md mx-auto p-6 pb-8 scale-in",role:"dialog","aria-modal":"true","aria-label":"How to use your voucher",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-text-primary",children:"How to use your voucher"}),(0,l.jsx)("button",{onClick:e,className:"p-2 rounded-full hover:bg-primary-light transition-colors touch-target","aria-label":"Close instructions",children:(0,l.jsx)(T.X,{size:20,className:"text-text-secondary"})})]}),(0,l.jsx)("div",{className:"space-y-5",children:t.map((e,t)=>(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-primary-light rounded-xl flex items-center justify-center shrink-0",children:e.icon}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"font-bold text-text-primary",children:[(0,l.jsxs)("span",{className:"text-primary mr-2",children:[t+1,"."]}),e.title]}),(0,l.jsx)("p",{className:"text-sm text-text-secondary mt-1",children:e.description})]})]},t))}),(0,l.jsx)("div",{className:"mt-6 p-4 bg-accent-light rounded-xl",children:(0,l.jsxs)("p",{className:"text-sm text-text-secondary",children:[(0,l.jsx)("strong",{className:"text-accent",children:"Tip:"})," Make sure your screen brightness is turned up so the QR code is easy to scan."]})}),(0,l.jsx)(P.Button,{variant:"primary",size:"lg",fullWidth:!0,className:"mt-6",onClick:e,children:"Got it!"})]})]})}function $({voucher:e,currentPoints:t,threshold:r=j.MERIT_CONFIG.voucherThreshold}){let[i,n]=(0,c.useState)(!1),a=t>=r,o=e?.status==="redeemed",s=e?.status==="expired",d=e?.status==="available"&&a;if(!a||!e){let e=Math.min(t/r*100,100);return(0,l.jsxs)(R.Card,{className:"text-center",children:[(0,l.jsx)("div",{className:"w-20 h-20 bg-primary-light rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)(F.Lock,{size:36,className:"text-primary/50"})}),(0,l.jsx)("h2",{className:"text-xl font-bold text-text-primary mb-2",children:"E-Voucher Locked"}),(0,l.jsxs)("p",{className:"text-text-secondary mb-4",children:["Earn"," ",(0,l.jsxs)("span",{className:"font-bold text-accent",children:[r-t," more points"]})," ","to unlock your E-Voucher!"]}),(0,l.jsxs)("div",{className:"relative w-32 h-32 mx-auto mb-4",children:[(0,l.jsxs)("svg",{viewBox:"0 0 100 100",className:"w-full h-full -rotate-90",children:[(0,l.jsx)("circle",{cx:"50",cy:"50",r:"42",fill:"none",stroke:j.COLORS.border,strokeWidth:"8"}),(0,l.jsx)("circle",{cx:"50",cy:"50",r:"42",fill:"none",stroke:j.COLORS.primary,strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${2*Math.PI*42}`,strokeDashoffset:`${2*Math.PI*42*(1-e/100)}`,className:"transition-all duration-1000"})]}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("p",{className:"text-2xl font-bold text-text-primary",children:[Math.round(e),"%"]}),(0,l.jsx)("p",{className:"text-xs text-text-muted",children:"complete"})]})})]}),(0,l.jsx)("p",{className:"text-sm text-text-muted",children:"Keep completing tasks to earn merit points!"})]})}return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(R.Card,{className:`text-center ${o?"bg-secondary-light/30":s?"opacity-60":""}`,children:[o&&(0,l.jsxs)("div",{className:"inline-flex items-center gap-1.5 bg-success-light text-success text-sm font-bold px-4 py-1.5 rounded-full mb-4",children:[(0,l.jsx)(L.CheckCircle2,{size:16}),"Redeemed"]}),s&&(0,l.jsxs)("div",{className:"inline-flex items-center gap-1.5 bg-danger-light text-danger text-sm font-bold px-4 py-1.5 rounded-full mb-4",children:[(0,l.jsx)(B.Clock,{size:16}),"Expired"]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-accent-light rounded-2xl flex items-center justify-center mx-auto mb-3",children:(0,l.jsx)(S.Gift,{size:32,className:"text-accent"})}),(0,l.jsxs)("h2",{className:"text-2xl font-bold text-text-primary",children:["£",e.value," E-Voucher"]}),(0,l.jsx)("p",{className:"text-text-secondary mt-1",children:e.retailer})]}),d&&(0,l.jsx)("div",{className:"bg-white p-6 rounded-2xl inline-block mb-4 shadow-sm border border-border",children:(0,l.jsx)(M,{value:e.code,size:200,level:"H",includeMargin:!1,bgColor:"#FFFFFF",fgColor:j.COLORS.textPrimary})}),(0,l.jsx)("p",{className:"font-mono text-sm text-text-muted tracking-wider mb-4",children:e.code}),(0,l.jsx)("p",{className:"text-sm text-text-secondary mb-4",children:s?"This voucher has expired":o?`Redeemed on ${new Date(e.redeemedAt).toLocaleDateString("en-GB")}`:`Valid until ${new Date(e.expiresAt).toLocaleDateString("en-GB")}`}),d&&(0,l.jsxs)(P.Button,{variant:"outline",size:"lg",fullWidth:!0,onClick:()=>n(!0),children:[(0,l.jsx)(A,{size:20,className:"mr-2"}),"How to use this voucher"]}),(0,l.jsxs)("div",{className:"mt-4 inline-flex items-center gap-1 text-accent font-bold text-sm",children:[(0,l.jsx)(D.Star,{size:16}),"Earned with ",r," merit points"]})]}),i&&(0,l.jsx)(z,{onClose:()=>n(!1)})]})}var U=e.i(30592);let W=(0,O.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);function H(){let[e]=(0,c.useState)(U.MOCK_MERIT_PROGRESS.currentPoints),t=U.MOCK_VOUCHERS.find(e=>"available"===e.status)||null,r=U.MOCK_VOUCHERS.filter(e=>"available"!==e.status);return(0,l.jsxs)("div",{className:"min-h-screen bg-background pb-24",children:[(0,l.jsx)(d.TopBar,{title:"Rewards"}),(0,l.jsxs)("div",{className:"max-w-lg mx-auto px-4 py-4 space-y-6",children:[(0,l.jsx)($,{voucher:t,currentPoints:e}),r.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("h2",{className:"text-lg font-bold text-text-primary mb-3 flex items-center gap-2",children:[(0,l.jsx)(W,{size:18,className:"text-text-secondary"}),"Past Vouchers"]}),(0,l.jsx)("div",{className:"space-y-2",children:r.map(e=>(0,l.jsx)(R.Card,{padding:"sm",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-primary-light rounded-xl flex items-center justify-center",children:(0,l.jsx)(S.Gift,{size:18,className:"text-primary"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("p",{className:"font-semibold text-text-primary text-sm",children:["£",e.value," - ",e.retailer]}),(0,l.jsx)("p",{className:"text-xs text-text-muted",children:"redeemed"===e.status?`Used on ${new Date(e.redeemedAt).toLocaleDateString("en-GB")}`:`Expired ${new Date(e.expiresAt).toLocaleDateString("en-GB")}`})]}),(0,l.jsx)("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full ${"redeemed"===e.status?"bg-success-light text-success":"bg-danger-light text-danger"}`,children:"redeemed"===e.status?"Used":"Expired"})]})},e.id))})]})]}),(0,l.jsx)(d.BottomNavigation,{})]})}e.s(["default",()=>H],72880)}]);